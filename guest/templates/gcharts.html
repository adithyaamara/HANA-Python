<html>
  <link rel="shortcut icon" href="/static/favicon.ico" type="image/x-icon">
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    
    <script>
      let width =500;
      let height=400;
      window.onload = function() {  
        drawChartBar();
    }
    function EditChart(){
      width =document.getElementsByName("width").value;
      height = document.getElementsByName("height").value;
      ChangeChart();
    }
    </script>
    
    <script type="text/javascript">

      // Load the Visualization API and the corechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChartPie() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');
        data.addRows([
          ['Mushrooms', 3],
          ['Onions', 1],
          ['Olives', 1],
          ['Zucchini', 1],
          ['Pepperoni', 2]
        ]);

        // Set chart options
        var options = {'title':'How Much Pizza I Ate Last Night',
                       'width':width,
                       'height':height};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
      function drawChartBar() {

        // Create the data table.
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Topping');
        data.addColumn('number', 'Slices');
        data.addRows([
          ['Mushrooms', 3],
          ['Onions', 1],
          ['Olives', 1],
          ['Zucchini', 1],
          ['Pepperoni', 2]
        ]);

        // Set chart options
        var options = {'title':'How Much Pizza I Ate Last Night',
                       'width':width,
                       'height':height};

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.BarChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
      function drawChartLine() {

// Create the data table.
var data = new google.visualization.DataTable();
data.addColumn('string', 'Topping');
data.addColumn('number', 'Slices');
data.addRows([
  ['Mushrooms', 3],
  ['Onions', 1],
  ['Olives', 1],
  ['Zucchini', 1],
  ['Pepperoni', 2]
]);

// Set chart options
var options = {'title':'How Much Pizza I Ate Last Night',
               'width':width,
               'height':height};

// Instantiate and draw our chart, passing in some options.
var chart = new google.visualization.LineChart(document.getElementById('chart_div'));
chart.draw(data, options);
}
function drawChartColumn() {

// Create the data table.
var data = new google.visualization.DataTable();
data.addColumn('string', 'Topping');
data.addColumn('number', 'Slices');
data.addRows([
  ['Mushrooms', 3],
  ['Onions', 1],
  ['Olives', 1],
  ['Zucchini', 1],
  ['Pepperoni', 2]
]);

// Set chart options
var options = {'title':'How Much Pizza I Ate Last Night',
               'width':width,
               'height':height};

// Instantiate and draw our chart, passing in some options.
var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
chart.draw(data, options);
}
function drawChartArea() {

// Create the data table.
var data = new google.visualization.DataTable();
data.addColumn('string', 'Topping');
data.addColumn('number', 'Slices');
data.addRows([
  ['Mushrooms', 3],
  ['Onions', 1],
  ['Olives', 1],
  ['Zucchini', 1],
  ['Pepperoni', 2]
]);

// Set chart options
var options = {'title':'How Much Pizza I Ate Last Night',
               'width':width,
               'height':height};

// Instantiate and draw our chart, passing in some options.
var chart = new google.visualization.AreaChart(document.getElementById('chart_div'));
chart.draw(data, options);
}
function ChangeChart()
{
  var val = document.getElementById("charttype").value;
  if(val == "BarChart")
    drawChartBar();
    else if(val == "ColumnChart")
    drawChartColumn();
    else if(val == "AreaChart")
    drawChartArea();
    else if (val == "LineChart")
    drawChartLine();
    else if(val == "PieChart")
    drawChartPie()
    else
    drawChartLine();
}
    </script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
  </head>

  <body border=1 align="center">
    <nav class="navbar navbar-expand-lg navbar-light" style="background-color: #e3f2fd;">
      <a class="navbar-brand" href="#"><b>FlaskApp:V1.0</b></a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-item nav-link active" href="/api/home">Home <span class="sr-only">(current)</span></a>
          <a class="nav-item nav-link" href="/api/help">Features</a>
          <a class="nav-item nav-link" href="/dev_register">Join Us</a>
          <a class="nav-item nav-link" href="/devsr">Request Password</a>
          {% if session['name'] %}
              <a class="nav-item nav-link" href="/logout" onclick='return confirm("Do you really want to logout?")'>Logout</a>
          {% else %}
              <a class="nav-item nav-link" href="/login">Login</a>
          {% endif %}
        </div>
      </div>
  </nav>
    <!--Div that will hold the pie chart-->
    <div id="chart_div" align="center"></div>
      <table align="center" cellpadding="8px">
        <tr align="center">
          <th colspan="2">
            <label for="charttype">Select Chart Type : </label>
            <select id="charttype" value="ColumnChart" onchange=ChangeChart()>
              <option value="BarChart">BarChart</option>
              <option value="ColumnChart">ColumnChart</option>
              <option value="LineChart">Line Chart</option>
              <option value="PieChart">Pie Chart</option>
              <option value="AreaChart">Area Chart</option>
            </select><br><br>
          </th>
        </tr>
        <tr>
          <td><input type="number" name="width" placeholder="width"></td>
          <td><input type="number" name="height" placeholder="height"></td>
        </tr>
        <tr align="center">
          <td colspan="2">
            <button type="submit" name="change">CUSTOMIZE</button>
          </td>
        </tr>
      </table>
      
      <!--- Using Buttons :
      <button style="border-radius: 10px;border-color: green;background-color: azure;" value="Pie Chart" onclick=drawChartPie()>Pie Chart</button>
      <button style="border-radius: 10px;border-color: green;background-color: azure;" value="Bar Chart" onclick=drawChartBar()>Bar Chart</button>
      <button style="border-radius: 10px;border-color: green;background-color: azure;" value="Pie Chart" onclick=drawChartLine()>Line Chart</button>
      <button style="border-radius: 10px;border-color: green;background-color: azure;" value="Pie Chart" onclick=drawChartColumn()>Column Chart</button>
      <button style="border-radius: 10px;border-color: green;background-color: azure;" value="Pie Chart" onclick=drawChartArea()>Area Chart</button>
      -->
    </div>
    
  </body>
</html>